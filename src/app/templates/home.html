<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
    <title>ğŸ§‘â€âœˆï¸ {{ current_user.user_name }}  |  Todos</title>
</head>
<body>

<div class="header">
    <a href="{{ url_for('home_page_load') }}">
        <img src="{{ url_for('static', filename='images/todo-app-logo.svg') }}" alt="todo-app" class="app-logo">
    </a>
    <div id="profile-icon" class="profile-icon">
        <p>ğŸ§‘â€âœˆï¸</p>
    </div>
</div>

<div class="container">

    <!-- æ¤œç´¢ãƒãƒ¼ -->
    <div class="search-bar">
        <input type="text" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢..." id="searchInput">
        <button type="submit" >æ¤œç´¢</button>
    </div>

    <div class="tabs">
        <button class="tab-link" onclick="openTab(event, 'Incomplete')">æœªå®Œäº† ğŸ™…</button>
        <button class="tab-link" onclick="openTab(event, 'Complete')">å®Œäº† âœ…</button>
    </div>

    <div id="Incomplete" class="tab-content">
        <ul>
            <li>
                <a href="#" class="todo-item">æ±ãƒãƒ³ä¼šè²»å…¥é‡‘
                    <p class="reg-todo-date">ç™»éŒ²æ—¥ï¼š2024/03/23</p>
                    <p class="due-date">æœŸæ—¥ï¼š2024/03/25</p>
                </a>
            </li>
            <li>
                <a href="#" class="todo-item">ãƒ“ãƒãƒ©ç”³ã—è¾¼ã¿
                    <p class="reg-todo-date">ç™»éŒ²æ—¥ï¼š2024/03/23</p>
                    <p class="due-date">æœŸæ—¥ï¼š2024/03/26</p>
                </a>
            </li>
            <li>
                <a href="#" class="todo-item">ãƒãƒ³ãƒ‰ç·´ç¿’æ—¥ç¨‹æ±ºã‚
                    <p class="reg-todo-date">ç™»éŒ²æ—¥ï¼š2024/03/23</p>
                    <p class="due-date">æœŸæ—¥ï¼šãªã—</p>
                </a>
            </li>
        </ul>
    </div>

    <div id="Complete" class="tab-content" style="display: none;">
        <ul>
            <li>
                <a href="#" class="todo-item">æ˜¼ã”é£¯ã‚’é£Ÿã¹ã‚‹
                    <p>ç™»éŒ²æ—¥ï¼š2024/03/23<br>å®Œäº†æ—¥âœ…ï¼š2024/03/34</p>
                </a>
            </li>
            <li>
                <a href="#" class="todo-item">æœã”ã¯ã‚“ã‚’é£Ÿã¹ã‚‹
                    <p>ç™»éŒ²æ—¥ï¼š2024/03/23<br>å®Œäº†æ—¥âœ…ï¼š2024/03/34</p>
                </a>
            </li>
        </ul>
    </div>
</div>

<!-- Todoè¿½åŠ ãƒœã‚¿ãƒ³ -->
<div class="add-todo-button" id="add-todo-button">+</div>

<!-- ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="mask" class="hidden">
</div>
<div id="modal" class="hidden modal">
    <div class="user-profile-menu-list">
        ğŸ§‘â€âœˆï¸â€{{ current_user.user_name }}ã•ã‚“
    </div>
    <div class="user-profile-menu-list user-setting">
        <a class="user-setting" href="#">ãƒ¦ãƒ¼ã‚¶è¨­å®š</a>
    </div>
    <div class="user-profile-menu-list">
        <a class="logout" href="{{ url_for('execute_logout') }}">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
    </div>
    <div id="close-profile" class="close-profile">
        <p>âœ–</p>
    </div>
</div>
<footer>
    Â© 2024 TODO by Reo Kobayashi a.k.a kbr1009
</footer>
</body>
<style>
    /* ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š */
    * {
        box-sizing: border-box; /* å…¨è¦ç´ ã«border-boxãƒ¢ãƒ‡ãƒ«ã‚’é©ç”¨ */
        margin: 0; /* ãƒãƒ¼ã‚¸ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ */
        padding: 0; /* ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆ */
    }

    body {
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        background-color: snow;
    }

    .header {
        position: fixed;
        top: 0;
        width: 100%;
        /*
        background-color: #fff;
         */
        padding: 10px 20px;
        /*
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
         */
        display: flex;
        /*justify-content: space-between; */
        align-items: center;
        z-index: 1000;
    }
    .app-logo {
        height: 20px; /* ãƒ­ã‚´ã®é«˜ã•ã‚’è¨­å®š */
        width: auto; /* å¹…ã¯è‡ªå‹•ã§èª¿æ•´ */
    }

    .profile-icon {
        margin-left: auto; /* ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ã‚’å³å¯„ã›ã« */
        display: block;
        padding: 3px;
        text-decoration: none;
        cursor: pointer;
    }
    .profile-icon p{
        font-size: 20px;
    }

    .container {
        width: 100%;
        max-width: 1000px;
        /*
        background-color: #e9e9e9;
        */
        padding: 20px;
        margin: 50px auto 0; /* ãƒ˜ãƒƒãƒ€ãƒ¼ã®é«˜ã•ã«å¿œã˜ã¦èª¿æ•´ */
        box-sizing: border-box;
    }

    /* æ¤œç´¢ãƒãƒ¼ */
    .search-bar {
        height: 40px;
        margin-bottom: 20px; /* ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã¨ã®é–“ã«ã‚¹ãƒšãƒ¼ã‚¹ã‚’è¨­ã‘ã‚‹ */
        display: flex;
        justify-content: center; /* æ¤œç´¢ãƒãƒ¼ã‚’ä¸­å¤®ã«é…ç½® */
        width: 100%; /* æ¤œç´¢ãƒãƒ¼ã®å¹…ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«åˆã‚ã›ã‚‹ */
        max-width: 1000px; /* æ¤œç´¢ãƒãƒ¼ã®æœ€å¤§å¹…ã‚’tab-contentã®æ¨ªå¹…ã«åˆã‚ã›ã‚‹ */
        box-sizing: border-box; /* ãƒœãƒ¼ãƒ€ãƒ¼ã‚„ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å¹…ã«å«ã‚ã‚‹ */
    }

    .search-bar input[type="text"] {
        flex-grow: 1; /* å…¥åŠ›æ¬„ãŒåˆ©ç”¨å¯èƒ½ãªã‚¹ãƒšãƒ¼ã‚¹ã‚’åŸ‹ã‚ã‚‹ã‚ˆã†ã«ä¼¸ç¸® */
        margin-right: 10px; /* ãƒœã‚¿ãƒ³ã¨ã®é–“éš” */
        padding: 10px; /* å…¥åŠ›æ¬„ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° */
        font-size: 16px; /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’16pxä»¥ä¸Šã«è¨­å®š */
        border: 1px solid #ccc; /* æ ç·š */
        border-radius: 4px; /* è§’ä¸¸ */
    }

    .search-bar button {
        padding: 5px 15px; /* ãƒœã‚¿ãƒ³å†…ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’èª¿æ•´ */
        background-color: cornflowerblue;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        white-space: nowrap; /* ãƒœã‚¿ãƒ³å†…ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ˜ã‚Šè¿”ã•ãªã„ */
        font-size: 16px; /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’16pxä»¥ä¸Šã«è¨­å®š */
        font-weight: bold;
    }

    .search-bar button:hover {
        background-color: #0056b3;
    }

    /* ã‚¿ãƒ–ã¨ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š */
    .tabs {
        overflow: hidden;
        display: flex; /* Flexboxã‚’ä½¿ç”¨ã—ã¦ã‚¿ãƒ–ã‚’æ¨ªä¸¦ã³ã« */
    }

    .tab-link {
        flex-grow: 1; /* ã‚¿ãƒ–ãƒœã‚¿ãƒ³ãŒå®¹å™¨ã®å¹…ã‚’å‡ç­‰ã«åŸ‹ã‚ã‚‹ã‚ˆã†ã« */
        border: none;
        outline: none;
        cursor: pointer;
        padding: 10px; /* ãƒœã‚¿ãƒ³ã®å†…å´ã®ä½™ç™½ */
        transition: 0.3s;
        font-size: 17px;
        font-weight: bold;
        text-align: center; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®æƒãˆã« */
    }

    .tab-link:first-child {
        border-top-left-radius: 5px; /* æœªå®Œäº†ãƒœã‚¿ãƒ³ã®å·¦ä¸Šã«ã®ã¿ä¸¸ã¿ã‚’ä»˜ã‘ã‚‹ */
    }

    .tab-link:last-child {
        border-top-right-radius: 5px; /* å®Œäº†ãƒœã‚¿ãƒ³ã®å³ä¸Šã«ã®ã¿ä¸¸ã¿ã‚’ä»˜ã‘ã‚‹ */
    }

    .tab-link:hover {
        background-color: #ddd; /* ãƒ›ãƒãƒ¼æ™‚ã®èƒŒæ™¯è‰²ã‚’å°‘ã—æ¿ƒã„ã‚°ãƒ¬ãƒ¼ã« */
    }

    .tab-link.inactive {
        opacity: 0.5; /* éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒœã‚¿ãƒ³ã®é€æ˜åº¦ã‚’ä¸‹ã’ã‚‹ */
    }

    .tab-link.active {
        background-color: cornflowerblue; /* ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒœã‚¿ãƒ³ã®è‰²ã‚’æ¿ƒã„ã‚°ãƒ¬ãƒ¼ã«è¨­å®š */
        color: white; /* ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆè‰²ã‚’ç™½ã«è¨­å®š */
    }

    .tab-content {
        display: none;
        padding: 20px;
        border: 1px solid #ccc;
        /*
        background-color: #fff;
         */
        border-bottom-left-radius: 5px; /* ä¸‹å´å·¦ã®ä¸¸ã¿ */
        border-bottom-right-radius: 5px; /* ä¸‹å´å³ã®ä¸¸ã¿ */
    }
    .tab-content a{
        font-weight: bold;
    }
    .tab-content p{
        padding-top: 10px;
        font-size: 12px;
        font-weight: normal;
    }

    .todo-item .reg-todo-date{
        padding-bottom: unset;
    }
    .todo-item .due-date{
        padding-top: unset;
    }

    /* ToDoãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã®ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š */
    ul {
        list-style-type: none; /* ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã®ãƒãƒ¼ã‚«ãƒ¼ã‚’éè¡¨ç¤ºã« */
    }

    .todo-item {
        display: block;
        padding: 20px;
        margin: 10px 0;
        background-color: snow;
        border: 1px solid #ddd;
        border-radius: 5px; /* ToDoãƒªã‚¹ãƒˆé …ç›®ã®è§’ã‚’ä¸¸ãã™ã‚‹ */
        text-decoration: none;
        color: black;
    }

    .todo-item:hover {
        background-color: #e9e9e9;
    }

    #add-todo-button {
        position: fixed; /* ãƒœã‚¿ãƒ³ã‚’ç”»é¢ã«å›ºå®š */
        right: 30px; /* å³ã‹ã‚‰30pxã®ä½ç½® */
        bottom: 45px; /* ä¸‹ã‹ã‚‰30pxã®ä½ç½® */
        width: 60px; /* ãƒœã‚¿ãƒ³ã®å¹… */
        height: 60px; /* ãƒœã‚¿ãƒ³ã®é«˜ã• */
        border-radius: 50%; /* å††å½¢ã«ã™ã‚‹ */
        background-color: cornflowerblue; /* ãƒœã‚¿ãƒ³ã®èƒŒæ™¯è‰² */
        color: white; /* ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆè‰² */
        font-size: 30px; /* ãƒ†ã‚­ã‚¹ãƒˆã®ã‚µã‚¤ã‚ºã‚’å¤§ãã */
        display: flex; /* Flexboxã‚’ä½¿ç”¨ */
        justify-content: center; /* ä¸­å¤®æƒãˆ */
        align-items: center; /* ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä¸­å¤®ã«é…ç½® */
        cursor: pointer; /* ã‚«ãƒ¼ã‚½ãƒ«ã‚’ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã« */
        box-shadow: 0 4px 8px rgba(0,0,0,0.3); /* å½±ã‚’ã¤ã‘ã‚‹ */
        user-select: none; /* ãƒ†ã‚­ã‚¹ãƒˆã®é¸æŠã‚’ç„¡åŠ¹ã« */
    }

    #add-todo-button:hover {
        background-color: #0056b3; /* ãƒ›ãƒãƒ¼æ™‚ã®èƒŒæ™¯è‰² */
    }


    #mask {
        background: rgba(0, 0, 0, 0.4);
        position: fixed;
        top: 0;
        bottom: 0;
        right: 0;
        left: 0;
        z-index: 1;
    }

    .modal{
        background: #fff;
        max-height: 500px;
        min-width: 200px;
        padding: 20px;
        border-radius: 8px;
        position: fixed;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, -50%);
        margin: 0 auto;
        z-index: 2;
        transition: 0.4s;
        text-align:center;
    }

    #mask.hidden {
        display: none;
    }

    .modal.hidden {
        display: none;
    }

    .user-profile-menu-list{
        padding: 10px;
        font-weight: bold;
        font-size: 20px;
    }

    .user-profile-menu-list a{
        text-decoration: none; /* ä¸‹ç·šã‚’ãªãã™ */
    }

    .user-profile-menu-list.user-setting{
        color: cornflowerblue;
        cursor: pointer;
    }

    .user-profile-menu-list a.logout{
        color: red;
        cursor: pointer;
    }

    .close-profile{
        padding-top: 20px;
        cursor: pointer;
    }

    /* ãƒ•ãƒƒã‚¿ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ« */
    footer {
        background-color: snow;
        color: black; /* ãƒ†ã‚­ã‚¹ãƒˆè‰² */
        text-align: center; /* ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®æƒãˆ */
        padding: 10px; /* ä¸Šä¸‹å·¦å³ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚° */
        position: fixed; /* ãƒšãƒ¼ã‚¸ã®ä¸‹éƒ¨ã«å›ºå®š */
        left: 0;
        bottom: 0;
        width: 100%;
    }

</style>
<script>
    function openTab(evt, tabName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tab-content");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tab-link");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].classList.add("inactive"); // ã™ã¹ã¦ã®ã‚¿ãƒ–ã«å…ˆã«inactiveã‚’é©ç”¨
            tablinks[i].classList.remove("active"); // activeã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.classList.remove("inactive"); // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚¿ãƒ–ã‹ã‚‰inactiveã‚’é™¤å»
        evt.currentTarget.classList.add("active"); // ãã—ã¦ã€activeã‚’è¿½åŠ 

        // "addTodoButton" ã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹
        var addButton = document.getElementById("add-todo-button");
        if (tabName === "Complete") {
            // å®Œäº†ã‚¿ãƒ–ãŒé¸æŠã•ã‚ŒãŸã‚‰ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤ºã«ã™ã‚‹
            addButton.style.display = "none";
        } else {
            // ãã‚Œä»¥å¤–ã®ã‚¿ãƒ–ãŒé¸æŠã•ã‚ŒãŸã‚‰ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹
            addButton.style.display = "flex"; // ä»¥å‰ã«flexã‚’æŒ‡å®šã—ã¦ã„ãŸãŸã‚
        }
    }

    // åˆæœŸã‚¿ãƒ–ã‚’é–‹ã
    document.getElementsByClassName("tab-link")[0].click();

    const profileIcon = document.getElementById("profile-icon");
    const closeModal = document.getElementById('close-profile');
    profileIcon.onclick = event => {
        let modal = document.getElementById('modal');
        let mask = document.getElementById('mask');
        modal.classList.remove('hidden');
        mask.classList.remove('hidden');

        closeModal.addEventListener('click', function () {
            modal.classList.add('hidden');
            mask.classList.add('hidden');
        });
    }
</script>
</html>